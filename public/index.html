<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>BFHL API Tester</title>
  <style>
    :root{--bg:#0f172a;--card:#111827;--ink:#e5e7eb;--muted:#9ca3af;--accent:#22d3ee}
    *{box-sizing:border-box} body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:linear-gradient(120deg,#0b1021,#121a36);}
    .wrap{max-width:880px;margin:40px auto;padding:16px}
    .hero{color:var(--ink);margin-bottom:18px}
    .hero h1{margin:0 0 8px 0;font-size:28px}
    .hero p{margin:0;color:var(--muted)}
    .row{display:grid;grid-template-columns:1fr;gap:12px;margin-top:14px}
    .card{background:rgba(17,24,39,.8);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:16px;color:var(--ink);box-shadow:0 10px 24px rgba(0,0,0,.25)}
    textarea{width:100%;min-height:120px;border-radius:10px;border:1px solid rgba(255,255,255,.08);background:#0b1021;color:var(--ink);padding:10px;font-family:ui-monospace,Menlo,Consolas;font-size:14px}
    button{border:0;border-radius:12px;padding:10px 14px;cursor:pointer;background:var(--accent);color:#001018;font-weight:700}
    .result{white-space:pre-wrap;background:#0b1021;border:1px solid rgba(255,255,255,.08);border-radius:10px;padding:12px;font-family:ui-monospace,Menlo,Consolas}
    .hint{color:var(--muted);font-size:13px}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
    .pill{display:inline-block;background:rgba(34,211,238,.15);color:#bbf7fe;border:1px solid rgba(34,211,238,.25);padding:4px 8px;border-radius:999px;margin:2px 4px 0 0}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="hero">
      <h1>BFHL API â€” Quick Tester</h1>
      <p>POST to <code>/bfhl</code>. Try sample arrays, see categorized results instantly.</p>
    </div>

    <div class="row">
      <div class="card">
        <label for="json" class="hint">Paste request body (must be {"data":[...]})</label>
        <textarea id="json">{ "data": ["a","1","334","4","R","$"] }</textarea>
        <div style="display:flex;gap:10px;margin-top:10px">
          <button id="send">Send to /bfhl</button>
          <button id="exA">Load Example A</button>
          <button id="exB">Load Example B</button>
          <button id="exC">Load Example C</button>
        </div>
      </div>

      <div class="card">
        <div class="hint">Response</div>
        <div id="out" class="result">...</div>
      </div>
    </div>

    <div class="card" style="margin-top:12px">
      <div class="hint">Arrays preview</div>
      <div class="grid" id="chips"></div>
    </div>
  </div>

  <script>
    const $ = (s)=>document.querySelector(s);
    const chips = $('#chips');

    function showChips(o) {
      chips.innerHTML = '';
      if (!o || typeof o !== 'object') return;
      const groups = ['even_numbers','odd_numbers','alphabets','special_characters'];
      groups.forEach(g=>{
        const box = document.createElement('div');
        box.innerHTML = `<div class="hint" style="margin-bottom:6px">${g}</div>`;
        (o[g] || []).forEach(v=>{
          const p = document.createElement('span');
          p.className = 'pill';
          p.textContent = v;
          box.appendChild(p);
        });
        chips.appendChild(box);
      });
    }

    async function send() {
      try {
        const body = JSON.parse($('#json').value || '{}');
        const res = await fetch('/bfhl', {
          method: 'POST',
          headers: { 'Content-Type':'application/json' },
          body: JSON.stringify(body)
        });
        const data = await res.json();
        $('#out').textContent = JSON.stringify(data, null, 2);
        showChips(data);
      } catch (e) {
        $('#out').textContent = 'Invalid JSON or request failed: ' + e;
      }
    }

    const exA = { "data": ["a","1","334","4","R","$"] };
    const exB = { "data": ["2","a","y","4","&","-","*","5","92","b"] };
    const exC = { "data": ["A","ABcD","DOE"] };

    $('#send').onclick = send;
    $('#exA').onclick = ()=>{ $('#json').value = JSON.stringify(exA, null, 2) };
    $('#exB').onclick = ()=>{ $('#json').value = JSON.stringify(exB, null, 2) };
    $('#exC').onclick = ()=>{ $('#json').value = JSON.stringify(exC, null, 2) };
  </script>
</body>
</html>
